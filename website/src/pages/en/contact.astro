---
import Layout from '../../layouts/Layout.astro';
import Button from '../../components/ui/Button.astro';

const frontmatter = {
  title: 'Contact',
  description: 'Contact RespireLabs for partnerships, press, or product questions.',
  lang: 'en',
  alternatePaths: {
    en: '/en/contact',
    de: '/de/kontakt',
    pl: '/pl/kontakt'
  }
};
---

<Layout frontmatter={frontmatter}>
  <div class="bg-brand-white min-h-[calc(100vh-200px)] py-16 sm:py-24 lg:py-32">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        
        <div class="text-center mb-16">
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-oddval font-bold text-brand-dark tracking-tight mb-6">
            Get in <span class="text-brand-blue">touch</span>
          </h1>
          <p class="text-xl font-garamond text-brand-grey leading-relaxed">
            Have questions about the app, the Smart Mouth Tape, or want to partner with us? Send us a message.
          </p>
        </div>

        <div class="bg-white dark:bg-[var(--surface-card)] rounded-3xl shadow-xl border border-brand-light dark:border-white/10 p-8 sm:p-12 relative overflow-hidden">
          <!-- Decorative subtle blur -->
          <div class="absolute -bottom-32 -left-32 w-64 h-64 bg-brand-blue/10 rounded-full blur-[80px] pointer-events-none"></div>

          <form class="relative z-10 space-y-6" id="contact-form">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
              <!-- Name -->
              <div>
                <label for="name" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Name</label>
                <input type="text" name="name" id="name" required class="block w-full rounded-xl border-brand-light dark:border-white/10 bg-brand-white dark:bg-[#1F2937] px-4 py-3 text-brand-dark dark:text-white dark:placeholder:text-gray-400 focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors" placeholder="Jane Doe" />
              </div>
              
              <!-- Email -->
              <div>
                <label for="email" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Email</label>
                <input type="email" name="email" id="email" required class="block w-full rounded-xl border-brand-light dark:border-white/10 bg-brand-white dark:bg-[#1F2937] px-4 py-3 text-brand-dark dark:text-white dark:placeholder:text-gray-400 focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors" placeholder="jane@example.com" />
              </div>
            </div>

            <!-- Topic -->
            <div>
              <label for="topic" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Topic</label>
              <select id="topic" name="topic" required class="block w-full rounded-xl border-brand-light dark:border-white/10 bg-brand-white dark:bg-[#1F2937] px-4 py-3 text-brand-dark dark:text-white dark:placeholder:text-gray-400 focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors">
                <option value="" disabled selected>Select a topic...</option>
                <option value="product">Product</option>
                <option value="partnership">Partnership</option>
                <option value="press">Press</option>
                <option value="support">Support</option>
                <option value="other">Other</option>
              </select>
            </div>

            <!-- Message -->
            <div>
              <label for="message" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Message</label>
              <textarea id="message" name="message" rows="5" required class="block w-full rounded-xl border-brand-light dark:border-white/10 bg-brand-white dark:bg-[#1F2937] px-4 py-3 text-brand-dark dark:text-white dark:placeholder:text-gray-400 focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors" placeholder="How can we help you?"></textarea>
            </div>

            <div class="pt-4 text-center">
              <Button type="submit" class="w-full sm:w-auto px-12">Send message</Button>
            </div>
            
            <!-- Success Message -->
            <div id="success-message" class="hidden mt-6 p-4 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 rounded-xl font-montserrat text-sm text-center font-medium">
              Thanks â€” we'll get back to you soon.
            </div>
          </form>
        </div>

        <!-- Direct Contact Info -->
        <div class="mt-16 grid grid-cols-1 sm:grid-cols-3 gap-8 border-t border-brand-light pt-12">
          <div class="text-center">
            <h2 class="font-oddval text-lg text-brand-dark mb-2">Support</h2>
            <a href="mailto:support@respirelabs.com" class="font-garamond text-brand-blue hover:underline text-lg">support@respirelabs.com</a>
          </div>
          <div class="text-center">
            <h2 class="font-oddval text-lg text-brand-dark mb-2">Partnerships</h2>
            <a href="mailto:partners@respirelabs.com" class="font-garamond text-brand-blue hover:underline text-lg">partners@respirelabs.com</a>
          </div>
          <div class="text-center">
            <h2 class="font-oddval text-lg text-brand-dark mb-2">Press</h2>
            <a href="mailto:press@respirelabs.com" class="font-garamond text-brand-blue hover:underline text-lg">press@respirelabs.com</a>
          </div>
        </div>

      </div>
    </div>
  </div>
</Layout>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const successMsg = document.getElementById('success-message');

  if (form && successMsg) {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const button = form.querySelector('button[type="submit"]') as HTMLButtonElement;
      if (button) {
        button.disabled = true;
        button.innerText = 'Sending...';
        
        setTimeout(() => {
          successMsg.classList.remove('hidden');
          button.innerText = 'Sent';
          form.reset();
        }, 1000);
      }
    });
  }
</script>
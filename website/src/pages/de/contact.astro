---
import Layout from '../../layouts/Layout.astro';
import Button from '../../components/ui/Button.astro';

const frontmatter = {
  title: 'Kontakt',
  description: 'Kontakt zu RespireLabs – Partnerschaften, Presse oder Produktfragen.',
  lang: 'de'
};
---

<Layout frontmatter={frontmatter}>
  <div class="bg-brand-white min-h-[calc(100vh-200px)] py-16 sm:py-24 lg:py-32">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        
        <div class="text-center mb-16">
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-oddval font-bold text-brand-dark tracking-tight mb-6">
            Lass uns <span class="text-brand-blue">sprechen</span>
          </h1>
          <p class="text-xl font-garamond text-brand-grey leading-relaxed">
            Hast du Fragen zur App, dem Smart Mouth Tape oder Interesse an einer Partnerschaft? Sende uns eine Nachricht.
          </p>
        </div>

        <div class="bg-white rounded-3xl shadow-xl border border-brand-light p-8 sm:p-12 relative overflow-hidden">
          <!-- Decorative subtle blur -->
          <div class="absolute -bottom-32 -left-32 w-64 h-64 bg-brand-blue/10 rounded-full blur-[80px] pointer-events-none"></div>

          <form class="relative z-10 space-y-6" id="contact-form">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
              <!-- Name -->
              <div>
                <label for="name" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Name</label>
                <input type="text" name="name" id="name" required class="block w-full rounded-xl border-brand-light bg-brand-white px-4 py-3 text-brand-dark focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors" placeholder="Max Mustermann" />
              </div>
              
              <!-- Email -->
              <div>
                <label for="email" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">E-Mail</label>
                <input type="email" name="email" id="email" required class="block w-full rounded-xl border-brand-light bg-brand-white px-4 py-3 text-brand-dark focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors" placeholder="max@beispiel.de" />
              </div>
            </div>

            <!-- Topic -->
            <div>
              <label for="topic" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Thema</label>
              <select id="topic" name="topic" required class="block w-full rounded-xl border-brand-light bg-brand-white px-4 py-3 text-brand-dark focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors">
                <option value="" disabled selected>Wähle ein Thema...</option>
                <option value="product">Produkt</option>
                <option value="partnership">Partnerschaft</option>
                <option value="press">Presse</option>
                <option value="support">Support</option>
                <option value="other">Sonstiges</option>
              </select>
            </div>

            <!-- Message -->
            <div>
              <label for="message" class="block text-sm font-montserrat font-semibold text-brand-dark mb-2">Nachricht</label>
              <textarea id="message" name="message" rows="5" required class="block w-full rounded-xl border-brand-light bg-brand-white px-4 py-3 text-brand-dark focus:border-brand-blue focus:ring-brand-blue sm:text-sm transition-colors" placeholder="Wie können wir dir helfen?"></textarea>
            </div>

            <div class="pt-4 text-center">
              <Button type="submit" class="w-full sm:w-auto px-12">Nachricht senden</Button>
            </div>
            
            <!-- Success Message -->
            <div id="success-message" class="hidden mt-6 p-4 bg-green-50 text-green-800 rounded-xl font-montserrat text-sm text-center font-medium">
              Danke — wir melden uns so bald wie möglich.
            </div>
          </form>
        </div>

        <!-- Direct Contact Info -->
        <div class="mt-16 grid grid-cols-1 sm:grid-cols-3 gap-8 border-t border-brand-light pt-12">
          <div class="text-center">
            <h4 class="font-oddval text-lg text-brand-dark mb-2">Support</h4>
            <a href="mailto:support@respirelabs.com" class="font-garamond text-brand-blue hover:underline text-lg">support@respirelabs.com</a>
          </div>
          <div class="text-center">
            <h4 class="font-oddval text-lg text-brand-dark mb-2">Partnerschaften</h4>
            <a href="mailto:partners@respirelabs.com" class="font-garamond text-brand-blue hover:underline text-lg">partners@respirelabs.com</a>
          </div>
          <div class="text-center">
            <h4 class="font-oddval text-lg text-brand-dark mb-2">Presse</h4>
            <a href="mailto:press@respirelabs.com" class="font-garamond text-brand-blue hover:underline text-lg">press@respirelabs.com</a>
          </div>
        </div>

      </div>
    </div>
  </div>
</Layout>

<script>
  const form = document.getElementById('contact-form');
  const successMsg = document.getElementById('success-message');

  if (form && successMsg) {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const button = form.querySelector('button[type="submit"]') as HTMLButtonElement;
      if (button) {
        button.disabled = true;
        button.innerText = 'Wird gesendet...';
        
        setTimeout(() => {
          successMsg.classList.remove('hidden');
          button.innerText = 'Gesendet';
          form.reset();
        }, 1000);
      }
    });
  }
</script>
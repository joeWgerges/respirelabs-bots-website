---
import Layout from '../../layouts/Layout.astro';
import Button from '../../components/ui/Button.astro';
import FAQAccordion from '../../components/interactive/FAQAccordion';

const faqs = [
  {
    category: "Grundlagen",
    items: [
      {
        question: "Was ist RespireLabs?",
        answer: "RespireLabs ist ein Atem-Coach (App + optionales Wearable-Konzept), der Mundatmung reduziert und Nasenatmungs-Gewohnheiten aufbaut."
      },
      {
        question: "Ist RespireLabs ein Medizinprodukt?",
        answer: "Nein. RespireLabs ist ein Wellness-Produkt und stellt keine Diagnose. Bei Verdacht auf eine Schlafstörung konsultiere bitte medizinisches Fachpersonal."
      },
      {
        question: "Brauche ich das Smart Mouth Tape zum Start?",
        answer: "Nein. Die App ist smartphone-first. Du kannst sofort mit der Erkennung und dem Training beginnen, ohne zusätzliche Hardware zu benötigen."
      }
    ]
  },
  {
    category: "Datenschutz",
    items: [
      {
        question: "Nimmt RespireLabs die ganze Nacht auf?",
        answer: "Du kontrollierst, wann eine Session startet und was gespeichert wird. Sensibles Audio wird standardmäßig lokal auf deinem Gerät verarbeitet."
      },
      {
        question: "Verkauft ihr Daten?",
        answer: "Nein. Privacy-first: Wir teilen keine Daten ohne deine explizite Einwilligung."
      }
    ]
  },
  {
    category: "Smart Mouth Tape",
    items: [
      {
        question: "Wie funktioniert die Smart Mouth Tape Technologie?",
        answer: "Smart Mouth Tape nutzt fortschrittliche KI und maschinelles Lernen, um intelligent zwischen Mund- und Nasenatmung während der Nacht zu unterscheiden. Das Gerät verarbeitet Daten lokal und lernt deine individuellen Muster im Laufe der Zeit, um personalisierte Insights und Coaching zur Reduzierung von Mundatmung und Verbesserung der Schlafqualität zu liefern."
      },
      {
        question: "Ist Mouth Taping sicher?",
        answer: "Mouth Taping ist nicht für alle geeignet. Bei Nasen-Obstruktion, Atemproblemen oder Verdacht auf Schlafapnoe: vorher medizinisches Fachpersonal konsultieren. Wir stellen klare Sicherheitsrichtlinien zur Verfügung."
      }
    ]
  },
  {
    category: "Beta",
    items: [
      {
        question: "Wie bekomme ich Early Access?",
        answer: "Trage dich noch heute in unsere Warteliste ein. Wir senden dir Beta-Einladungen und Updates, sobald diese verfügbar sind."
      }
    ]
  }
];

const faqStructuredData = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.flatMap(category =>
    category.items.map(item => ({
      "@type": "Question",
      "name": item.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": item.answer
      }
    }))
  )
};

const frontmatter = {
  title: 'FAQ – Häufige Fragen',
  description: 'Häufige Fragen zu RespireLabs, App, Datenschutz und Smart Mouth Tape.',
  lang: 'de',
  structuredData: faqStructuredData
};
---

<Layout frontmatter={frontmatter}>
  <!-- HERO SECTION -->
  <section class="relative bg-[#F5F5F7] min-h-[50vh] flex flex-col items-center justify-center overflow-hidden pt-24 pb-16 border-b border-black/[0.05]">
    <div class="absolute inset-0 bg-grid-pattern opacity-30 pointer-events-none"></div>
    <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center reveal hero-reveal flex flex-col items-center">
      <div class="inline-flex items-center space-x-2 bg-white px-5 py-2 rounded-full mb-8 shadow-sm border border-brand-light">
        <span class="text-xs font-montserrat font-bold tracking-widest uppercase text-brand-dark/80">Support</span>
      </div>
      
      <h1 class="text-5xl sm:text-6xl md:text-7xl font-oddval font-bold text-brand-dark tracking-tighter mb-6 leading-[0.9] drop-shadow-sm">
        Häufig <br/>
        <span class="text-gradient">gestellte Fragen.</span>
      </h1>
      
      <p class="mt-4 max-w-2xl mx-auto text-xl font-montserrat font-light text-brand-grey leading-relaxed reveal hero-reveal delay-100">
        Alles, was du über das Produkt, den Datenschutz und unser Beta-Programm wissen musst.
      </p>
    </div>
  </section>

  <!-- FAQ ACCORDIONS -->
  <section class="py-24 bg-brand-white relative">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <FAQAccordion client:visible faqs={faqs} lang="de" />
    </div>
  </section>

  <!-- STILL HAVE QUESTIONS -->
  <section class="py-24 bg-brand-dark text-white text-center relative overflow-hidden">
    <div class="absolute inset-0 bg-grid-pattern-dark opacity-10 pointer-events-none"></div>
    <div class="relative z-10 max-w-3xl mx-auto px-4 reveal">
      <h2 class="text-4xl md:text-5xl font-oddval font-bold mb-6">Noch Fragen?</h2>
      <p class="text-lg md:text-xl font-montserrat font-light text-brand-light/70 mb-10">
        Wir sind hier, um zu helfen. Kontaktiere unser Team direkt.
      </p>
      <div class="flex flex-col sm:flex-row justify-center gap-4">
          <Button href="/de/kontakt" variant="primary" class="bg-white text-brand-dark hover:bg-brand-light border-transparent shadow-[0_0_30px_rgba(255,255,255,0.1)] hover:scale-[1.03]">Support kontaktieren</Button>
          <Button href="/de/warteliste" variant="outline" class="border-white/20 text-white hover:bg-white/5">Warteliste beitreten</Button>
      </div>
    </div>
  </section>
  
</Layout>
---
import Layout from '../../layouts/Layout.astro';
import Button from '../../components/ui/Button.astro';

const frontmatter = {
  title: 'FAQ – Häufige Fragen',
  description: 'Häufige Fragen zu RespireLabs, App, Datenschutz und Smart Mouth Tape.',
  lang: 'de'
};

const faqs = [
  {
    category: "Grundlagen",
    items: [
      {
        question: "Was ist RespireLabs?",
        answer: "RespireLabs ist ein Atem-Coach (App + optionales Wearable-Konzept), der Mundatmung reduziert und Nasenatmungs-Gewohnheiten aufbaut."
      },
      {
        question: "Ist RespireLabs ein Medizinprodukt?",
        answer: "Nein. RespireLabs ist ein Wellness-Produkt und stellt keine Diagnose. Bei Verdacht auf eine Schlafstörung konsultiere bitte medizinisches Fachpersonal."
      },
      {
        question: "Brauche ich das Smart Mouth Tape zum Start?",
        answer: "Nein. Die App ist smartphone-first. Du kannst sofort mit der Erkennung und dem Training beginnen, ohne zusätzliche Hardware zu benötigen."
      }
    ]
  },
  {
    category: "Datenschutz",
    items: [
      {
        question: "Nimmt RespireLabs die ganze Nacht auf?",
        answer: "Du kontrollierst, wann eine Session startet und was gespeichert wird. Sensibles Audio wird standardmäßig lokal auf deinem Gerät verarbeitet."
      },
      {
        question: "Verkauft ihr Daten?",
        answer: "Nein. Privacy-first: Wir teilen keine Daten ohne deine explizite Einwilligung."
      }
    ]
  },
  {
    category: "Smart Mouth Tape",
    items: [
      {
        question: "Welche Sensoren sind geplant?",
        answer: "Auf Konzept-Ebene planen wir ein Mikrofon, Airflow/Pressure-Sensoren, einen SpO₂-Sensor und einen Accelerometer für umfassende nächtliche Insights."
      },
      {
        question: "Ist Mouth Taping sicher?",
        answer: "Mouth Taping ist nicht für alle geeignet. Bei Nasen-Obstruktion, Atemproblemen oder Verdacht auf Schlafapnoe: vorher medizinisches Fachpersonal konsultieren. Wir stellen klare Sicherheitsrichtlinien zur Verfügung."
      }
    ]
  },
  {
    category: "Beta",
    items: [
      {
        question: "Wie bekomme ich Early Access?",
        answer: "Trage dich noch heute in unsere Warteliste ein. Wir senden dir Beta-Einladungen und Updates, sobald diese verfügbar sind."
      }
    ]
  }
];
---

<Layout frontmatter={frontmatter}>
  <!-- HERO SECTION -->
  <section class="relative bg-[#F5F5F7] min-h-[50vh] flex flex-col items-center justify-center overflow-hidden pt-24 pb-16 border-b border-black/[0.05]">
    <div class="absolute inset-0 bg-grid-pattern opacity-30 pointer-events-none"></div>
    <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center reveal hero-reveal flex flex-col items-center">
      <div class="inline-flex items-center space-x-2 bg-white px-5 py-2 rounded-full mb-8 shadow-sm border border-brand-light">
        <span class="text-xs font-montserrat font-bold tracking-widest uppercase text-brand-dark/80">Support</span>
      </div>
      
      <h1 class="text-5xl sm:text-6xl md:text-7xl font-oddval font-bold text-brand-dark tracking-tighter mb-6 leading-[0.9] drop-shadow-sm">
        Häufig <br/>
        <span class="text-gradient">gestellte Fragen.</span>
      </h1>
      
      <p class="mt-4 max-w-2xl mx-auto text-xl font-montserrat font-light text-brand-grey leading-relaxed reveal hero-reveal delay-100">
        Alles, was du über das Produkt, den Datenschutz und unser Beta-Programm wissen musst.
      </p>
    </div>
  </section>

  <!-- FAQ ACCORDIONS -->
  <section class="py-24 bg-brand-white relative">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      
      {faqs.map((category, catIndex) => (
        <div class={`mb-16 reveal delay-${(catIndex % 5) * 100}`}>
          <h2 class="text-2xl font-oddval font-bold text-brand-dark mb-6 pl-4 border-l-4 border-brand-blue">{category.category}</h2>
          
          <div class="space-y-4">
            {category.items.map((item, itemIndex) => (
              <details class="group bg-white rounded-2xl border border-brand-light/60 shadow-sm overflow-hidden transition-all duration-300 open:shadow-md">
                <summary class="flex justify-between items-center font-montserrat font-semibold text-brand-dark cursor-pointer list-none p-6 focus-ring rounded-2xl">
                  <span class="pr-6">{item.question}</span>
                  <span class="transition-transform duration-300 group-open:rotate-180 flex-shrink-0 text-brand-blue bg-brand-blue/10 rounded-full p-1">
                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                  </span>
                </summary>
                <div class="px-6 pb-6 pt-0 text-brand-grey font-garamond text-lg leading-relaxed border-t border-brand-light/30 bg-brand-light/5">
                  <div class="pt-4">{item.answer}</div>
                </div>
              </details>
            ))}
          </div>
        </div>
      ))}
      
    </div>
  </section>

  <!-- STILL HAVE QUESTIONS -->
  <section class="py-24 bg-brand-dark text-white text-center relative overflow-hidden">
    <div class="absolute inset-0 bg-grid-pattern-dark opacity-10 pointer-events-none"></div>
    <div class="relative z-10 max-w-3xl mx-auto px-4 reveal">
      <h2 class="text-4xl md:text-5xl font-oddval font-bold mb-6">Noch Fragen?</h2>
      <p class="text-lg md:text-xl font-montserrat font-light text-brand-light/70 mb-10">
        Wir sind hier, um zu helfen. Kontaktiere unser Team direkt.
      </p>
      <div class="flex flex-col sm:flex-row justify-center gap-4">
          <Button href="/de/contact" variant="primary" class="bg-white text-brand-dark hover:bg-brand-light border-transparent shadow-[0_0_30px_rgba(255,255,255,0.1)] hover:scale-[1.03]">Support kontaktieren</Button>
          <Button href="/de/waitlist" variant="outline" class="border-white/20 text-white hover:bg-white/5">Warteliste beitreten</Button>
      </div>
    </div>
  </section>
  
  <style>
    /* Details tag animations */
    details > summary::-webkit-details-marker {
      display: none;
    }
    details[open] summary ~ * {
      animation: sweep .3s ease-in-out;
    }
    @keyframes sweep {
      0%    {opacity: 0; transform: translateY(-10px)}
      100%  {opacity: 1; transform: translateY(0)}
    }
  </style>
</Layout>
---
interface Props {
  href?: string;
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'glass';
  class?: string;
  type?: 'button' | 'submit' | 'reset';
  target?: string;
  rel?: string;
  ariaLabel?: string;
}

const { 
  href, 
  variant = 'primary', 
  class: className = '', 
  type = 'button',
  target,
  rel,
  ariaLabel
} = Astro.props;

const baseStyles = "relative inline-flex items-center justify-center px-8 py-4 font-montserrat text-sm font-semibold rounded-full transition-all duration-300 ease-out focus-ring disabled:opacity-50 disabled:cursor-not-allowed tracking-wide overflow-hidden group shadow-sm";

const variants = {
  primary: "bg-brand-dark text-white hover:bg-black hover:scale-[1.02] hover:shadow-[0_8px_20px_rgba(0,0,0,0.12)] border border-brand-dark/10",
  secondary: "bg-brand-blue text-white hover:bg-blue-600 hover:scale-[1.02] hover:shadow-[0_8px_20px_rgba(32,111,247,0.3)] border border-brand-blue/20",
  outline: "bg-transparent text-brand-dark border border-brand-dark/20 hover:bg-brand-dark/[0.03] hover:border-brand-dark/30",
  ghost: "bg-transparent text-brand-dark hover:bg-brand-dark/5 border border-transparent shadow-none",
  glass: "bg-white/10 backdrop-blur-md text-white border border-white/20 hover:bg-white/20 hover:scale-[1.02] hover:shadow-[0_8px_20px_rgba(255,255,255,0.1)] focus-ring-dark"
};

const Tag = href ? 'a' : 'button';
---

<Tag
  href={href}
  type={href ? undefined : type}
  target={target}
  rel={rel}
  aria-label={ariaLabel}
  class:list={[baseStyles, variants[variant], className]}
>
  <!-- Optional subtle glow effect on hover for primary/secondary -->
  {(variant === 'primary' || variant === 'secondary') && (
    <span class="absolute inset-0 rounded-full w-full h-full bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300 pointer-events-none"></span>
  )}
  <span class="relative z-10 flex items-center justify-center gap-2">
    <slot />
  </span>
</Tag>